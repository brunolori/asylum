<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">



	<div class="ui-g ui-fluid nopad">

		<div class="ui-g-12 nopad">
			<p:panel header="DEGJESAT" styleClass="panelYellow">
			
			 <f:facet name="actions">

                    <h:panelGrid columns="2">
			             <p:commandButton value="Përzgjidh" 
			                              icon="fa fa-thumb-tack"
									      action="#{dfacSelectionViewBean.prepareSelectForHearing()}"
										  oncomplete="PF('selectHearingWid').show();" update=":select_hearing_dlg"
										  title="Përzgjidh për dëgjesë" />
						<p:commandButton value="Dëgjo" styleClass="green-btn"
			                              icon="fa fa-headphones"
									      action="#{dfacSelectionViewBean.prepareHearing()}"
										  title="Dëgjo" />
                   </h:panelGrid>
            </f:facet>
			
			
			
			<div class="ui-g">
			<div class="ui-g-12">
						<p:messages showDetail="true" closable="true" >
						<p:autoUpdate/>
						</p:messages>
			</div>
			
				<h:panelGroup rendered="#{empty dfacSelectionViewBean.hearings}">
				<div class="ui-g-12">
					<h3 style="color: #7f202f; font-weight: bold">Nuk ka Dëgjesa !</h3>
					</div>
				</h:panelGroup>

				<div class="ui-g-12">
					
					
					<p:dataTable value="#{dfacSelectionViewBean.hearings}" var="h" rowIndexVar="r"
						rendered="#{not empty dfacSelectionViewBean.hearings}" styleClass="no-border">
							
							<p:column headerText="#" style="text-align: left">
							#{r+1}
							</p:column>
							<p:column headerText="Data paracaktuar" style="text-align: left">
							#{formatBean.formatDate(h.predictedHearingDate)}
							</p:column>
							<p:column headerText="Statusi" style="text-align: left">
							#{h.hearingStatus.tag}
							</p:column>
							<p:column headerText="Data intervistimit" style="text-align: left" rendered="false">
							#{formatBean.formatTimestamp(h.hearingTime)}
							</p:column>
							<p:column headerText="Dëgjuesi" style="text-align: left">
							#{h.listener}
							</p:column>
							<p:column headerText="Përkthyesi" style="text-align: left">
							#{h.translator}
							</p:column>
							<p:column headerText="Gjuha" style="text-align: left">
							#{h.language}
							</p:column>
							<p:column headerText="Shënime" style="text-align: left">
							#{h.notes}
							</p:column>
								

					</p:dataTable>
					</div>
				</div>
			</p:panel>
		</div>

	</div>


</ui:composition>